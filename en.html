<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-6JTGMLLK8S"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-6JTGMLLK8S');
    </script>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/beercss@3.8.0/dist/cdn/beer.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

    <script type="module" src="https://cdn.jsdelivr.net/npm/beercss@3.8.0/dist/cdn/beer.min.js"></script>

    <script type="module"
        src="https://cdn.jsdelivr.net/npm/material-dynamic-colors@1.1.2/dist/cdn/material-dynamic-colors.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel='stylesheet'
        href='https://cdn-uicons.flaticon.com/2.0.0/uicons-bold-straight/css/uicons-bold-straight.css'>
    <link rel='stylesheet' href='https://cdn-uicons.flaticon.com/2.0.0/uicons-bold-rounded/css/uicons-bold-rounded.css'>
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@24,400,0,0&icon_names=translate" />
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:wght@400;500;700&display=swap"
        rel="stylesheet">
    <link
        href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&family=Roboto+Mono:wght@400;500;700&family=Roboto+Serif:wght@400;500;700&display=swap"
        rel="stylesheet">


    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <link rel='stylesheet'
        href='https://cdn-uicons.flaticon.com/2.1.0/uicons-solid-rounded/css/uicons-solid-rounded.css'>
    <link rel='stylesheet' href='https://cdn-uicons.flaticon.com/2.1.0/uicons-brands/css/uicons-brands.css'>
    <link rel="stylesheet" href="https://rsms.me/inter/inter.css" />

    <link rel="icon" href="./icon/favicon.ico" sizes="any">
    <link rel="apple-touch-icon" href="./icon/icon-512.png">

    <meta name="description" content="Un cliente de YouTube Music con Material Design 3, para Android">
    <title>OpenTune</title>

</head>

<body>
    <header id="header"
        class="beer-nav beer-shadow beer-rounded beer-position-fixed beer-top-0 beer-left-0 beer-right-0 beer-transition-all beer-duration-300">
        <nav class="beer-flex beer-items-center beer-justify-between beer-px-4 beer-py-2 beer-flex-wrap">
            <h5 class="beer-title beer-flex-1 beer-text-center">OpenTune</h5>

            <button id="languageSelector"
                class="beer-btn beer-btn-secondary beer-flex beer-items-center beer-space-x-2 beer-mr-4 beer-rounded">
                <span id="languageText">English</span>
                <i class="material-icons">arrow_drop_down</i>
            </button>

            <button id="themeSelector"
                class="transparent circle beer-flex beer-items-center beer-space-x-2 beer-rounded-full beer-shadow-md beer-transition-all hover:beer-bg-neutral-200 dark:hover:beer-bg-neutral-700 beer-px-2">
                <i class="material-icons-outlined" id="themeIcon">brightness_6</i>
            </button>
        </nav>
    </header>

    <script>
        // Detecta la preferencia de tema del sistema
        function detectThemePreference() {
            const themePreference = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
            document.body.classList.add(themePreference);
            localStorage.setItem('theme', themePreference); // Guardar la preferencia del tema en localStorage
        }

        // Alternar entre temas manualmente
        const themeSelector = document.getElementById('themeSelector');
        const themeIcon = document.getElementById('themeIcon');

        themeSelector.addEventListener('click', () => {
            // Verifica el tema actual y alterna entre claro y oscuro
            if (document.body.classList.contains('dark')) {
                document.body.classList.remove('dark');
                localStorage.setItem('theme', 'light'); // Guardar la preferencia en localStorage
                themeIcon.textContent = 'dark_mode'; // Cambiar el ícono a luna
            } else {
                document.body.classList.add('dark');
                localStorage.setItem('theme', 'dark'); // Guardar la preferencia en localStorage
                themeIcon.textContent = 'light_mode'; // Cambiar el ícono a sol
            }
        });

        // Verifica si hay una preferencia guardada y aplica el tema
        window.addEventListener('load', () => {
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme) {
                if (savedTheme === 'dark') {
                    document.body.classList.add('dark');
                    themeIcon.textContent = 'light_mode'; // Cambiar el ícono a sol
                } else {
                    document.body.classList.remove('dark');
                    themeIcon.textContent = 'brightness_6'; // Cambiar el ícono a luna
                }
            } else {
                // Si no hay preferencia guardada, se detecta la preferencia del sistema
                detectThemePreference();
            }
        });
    </script>


    <!-- Dialog para seleccionar idioma -->
    <!-- Dialog para seleccionar idioma -->
    <dialog id="languageDialog">
        <main>
            <center>
                <ul>
                    <li><button class="beer-btn beer-btn-secondary" onclick="setLanguage('English', 'en.html')">
                            <img src="https://flagicons.lipis.dev/flags/4x3/gb.svg" alt="English"
                                style="width: 20px; height: auto; margin-right: 8px;"> English
                        </button></li>
                    <br>
                    <li><button class="beer-btn beer-btn-secondary" onclick="setLanguage('Español', 'index.html')">
                            <img src="https://flagicons.lipis.dev/flags/4x3/es.svg" alt="Español"
                                style="width: 20px; height: auto; margin-right: 8px;"> Español
                        </button></li>
                    <br>
                    <li><button class="beer-btn beer-btn-secondary" onclick="setLanguage('Português', 'Pt_BR.html')">
                            <img src="https://flagicons.lipis.dev/flags/4x3/br.svg" alt="Português"
                                style="width: 20px; height: auto; margin-right: 8px;"> Português
                        </button></li>
                </ul>
            </center>
        </main>
        <footer>
            <button class="beer-btn beer-btn-secondary" onclick="closeDialog()">Close</button>
        </footer>
    </dialog>

    <script>
        // Función para detectar el idioma del navegador
        function detectLanguage() {
            const userLang = navigator.language || navigator.userLanguage;  // Obtiene el idioma del navegador
            const languageText = document.getElementById('languageText');

            if (userLang.startsWith('es')) {
                languageText.textContent = 'English';
            } else if (userLang.startsWith('en')) {
                languageText.textContent = 'English';
            } else if (userLang.startsWith('pt')) {
                languageText.textContent = 'PT';
            } else {
                languageText.textContent = 'Español';  // Por defecto
            }
        }

        // Función para abrir el dialog
        document.getElementById('languageSelector').addEventListener('click', function () {
            const languageDialog = document.getElementById('languageDialog');
            languageDialog.showModal();
        });

        // Función para cerrar el dialog
        function closeDialog() {
            const languageDialog = document.getElementById('languageDialog');
            languageDialog.close();
        }

        // Función para establecer el idioma y redirigir
        function setLanguage(language, url) {
            document.getElementById('languageText').textContent = language;
            closeDialog();
            window.location.href = url;  // Redirigir a la página seleccionada
        }

        // Detectar el idioma al cargar la página
        window.onload = detectLanguage;
    </script>



    <!-- Hero Section -->
    <section class="hero">
        <img src="./img/mock.png" width="300" alt="OpenTune mockup">
        <h1>OpenTune</h1>
        <p>A YouTube Music client with Material Design 3 for Android.</p>
        <a href="#downloadapk"><button class="primary cta">Download</button></a>
    </section>

    <!-- Features Section -->
    <section>
        <center>
            <h2 class="text-3xl text-center mt-10">
                Features
                <span class="material-symbols-rounded">star</span>
            </h2>
        </center>
        <div class="cards">
            <article>
                <h5><span class="material-symbols-rounded mr-2">music_note</span> Material Design 3 YouTube Music Client
                </h5>
                <p>Offers a modern and elegant YouTube Music experience on Android, with an intuitive interface
                    optimized according to Material Design 3.</p>
            </article>

            <article>
                <h5><span class="material-symbols-rounded mr-2">palette</span> Modern and Attractive Design</h5>
                <p>Based on Material Design 3, with vibrant colors, modern typography, and smooth transitions, creating
                    an aesthetic and attractive experience.</p>
            </article>

            <article>
                <h5><span class="material-symbols-rounded mr-2">settings</span> Intuitive and Customizable Interface
                </h5>
                <p>Simplified interface for quick access to all YouTube Music features, with customization options
                    according to preferences.</p>
            </article>

            <article>
                <h5><span class="material-symbols-rounded mr-2">search</span> Explore and Discover Music</h5>
                <p>Access to a wide music catalog with advanced search and intelligent recommendations based on
                    preferences and listening habits.</p>
            </article>

            <article>
                <h5><span class="material-symbols-rounded mr-2">volume_up</span> High-Quality Playback</h5>
                <p>High-quality music, optimized for different devices and network conditions, with support for various
                    audio formats.</p>
            </article>

            <article>
                <h5><span class="material-symbols-rounded mr-2">playlist_add</span> Playlists and Downloads</h5>
                <p>Create and organize playlists, and download songs and albums for offline listening.</p>
            </article>

            <article>
                <h5><span class="material-symbols-rounded mr-2">sync</span> Complete YouTube Music Integration</h5>
                <p>Sync your YouTube Music account to access your libraries and receive notifications about releases and
                    events.</p>
            </article>

            <article>
                <h5><span class="material-symbols-rounded mr-2">build</span> Advanced Features</h5>
                <p>Voice playback control, gestures, and support for Chromecast and Bluetooth, allowing streaming to
                    external devices.</p>
            </article>

            <article>
                <h5><span class="material-symbols-rounded mr-2">folder</span> Efficient Library Management</h5>
                <p>Organize your music with advanced filtering and categorization tools, quickly accessing songs and
                    albums.</p>
            </article>

            <article>
                <h5><span class="material-symbols-rounded mr-2">translate</span> Multilingual Support</h5>
                <p>Available in multiple languages with accurate translations and culturally relevant localization.</p>
            </article>

            <article>
                <h5><span class="material-symbols-rounded mr-2">update</span> Continuous Updates and Improvements</h5>
                <p>Regular updates for new features, security improvements, and performance optimization.</p>
            </article>

            <article>
                <h5><span class="material-symbols-rounded mr-2">headphones</span> Optimized User Experience</h5>
                <p>Intuitive navigation and agile performance, with a user-friendly interface that enhances the user
                    experience.</p>
            </article>
        </div>
    </section>




    <!-- Carousel Section -->
    <section class="carousel-container">
        <div class="carousel">
            <img src="./img/1.webp" alt="img1" class="carousel-image">
            <img src="./img/2.webp" alt="img2" class="carousel-image">
            <img src="./img/3.webp" alt="img3" class="carousel-image">
            <img src="./img/4.webp" alt="img4" class="carousel-image">
            <img src="./img/5.webp" alt="img5" class="carousel-image">
            <img src="./img/6.webp" alt="img6" class="carousel-image">
            <img src="./img/7.webp" alt="img7" class="carousel-image">
            <img src="./img/8.webp" alt="img8" class="carousel-image">
            <img src="./img/9.webp" alt="img9" class="carousel-image">
            <img src="./img/10.webp" alt="img10" class="carousel-image">
            <img src="./img/11.webp" alt="img11" class="carousel-image">
            <img src="./img/12.webp" alt="img12" class="carousel-image">
            <img src="./img/13.webp" alt="img13" class="carousel-image">
            <img src="./img/14.webp" alt="img14" class="carousel-image">
            <img src="./img/15.webp" alt="img15" class="carousel-image">
        </div>
    </section>

    <!-- Popup for Image View -->
    <div class="popup-overlay" id="popupOverlay">
        <div class="popup-content">
            <span class="close-popup" id="closePopup">&#10005;</span>
            <img src="" id="popupImage" class="popup-image" alt="popup image">
        </div>
    </div>




    <br>
    <center>
        <article class="card shadow-md round beer-card" style="max-width: 300px;">
            <div class="beer-card-header">
                <i class="fi fi-sr-exclamation text-yellow-500"></i>
                <h5>Notice:</h5>
            </div>
            <p class="beer-card-body text-sm">
                If OpenTune isn't working, activate a proxy. Use the following for it to work correctly:
            </p>
            <div class="field border beer-field">
                <input type="text" value="186.96.50.113:999" id="inputField" disabled class="beer-input w-full" />

                <button class="beer-btn beer-btn-primary" onclick="copyText()">

                    <i class="fas fa-copy"></i>
                </button>
            </div>
            <script>
                function copyText() {
                    const inputField = document.getElementById('inputField');
                    navigator.clipboard.writeText(inputField.value)
                        .then(() => {
                            alert('¡Texto copiado al portapapeles!');
                        })
                        .catch(err => {
                            alert('Error al copiar al portapapeles: ' + err);
                        });
                }
            </script>
        </article>
    </center>


    <br>
    <br>
    <br>
    <br>





    <!-- Downloads Section -->
    <section id="downloadapk">
        <center>
            <h2 class="text-3xl text-center mt-10">Downloads <i
                    class="material-icons left text-3xl text-center mt-10">download</i></h2>
        </center>
        <br>


        <center>

            <!-- Android Card -->
            <article>
                <div class="card small">
                    <div>
                        <div class="col s12">
                            <center>
                                <div class="header">
                                    <h5 class="title">
                                        <i class="material-icons left">android</i> Android
                                    </h5>
                                    <p class="small">OpenTune for Android. Download the latest stable version.</p>
                                </div>
                                <div class="content">
                                    <div class="chip success small m-top-1">Stable Version</div>
                                    <div id="currentVersion" class="chip small m-top-1">Cargando...</div>
                                </div>
                                <script>
                                    // Función para obtener la versión más reciente de OpenTune desde GitHub
                                    async function getLatestVersion() {
                                        try {
                                            const response = await fetch('https://api.github.com/repos/Arturo254/OpenTune/releases/latest');
                                            const data = await response.json();
                                            const latestVersion = data.tag_name;  // Obtenemos la versión más reciente
                                            document.getElementById('currentVersion').textContent = latestVersion;  // Actualizamos el texto del div
                                        } catch (error) {
                                            console.error('Error obteniendo la versión:', error);
                                            document.getElementById('currentVersion').textContent = 'Error al obtener versión';  // Mensaje en caso de error
                                        }
                                    }

                                    // Llamamos a la función cuando la página cargue
                                    getLatestVersion();
                                </script>

                                <br>
                                <div class="action-bar m-top-1">
                                    <button class="button small" onclick="changelog.show()">
                                        <i class="material-icons">list</i> Changelog
                                    </button>
                                    <br>
                                    <br>
                                    <button class="button small" onclick="versions.show()">
                                        <i class="material-icons">history</i> Versions
                                    </button>
                                    <br>
                                    <br>
                                    <a id="downloadBtn" class="button filled primary small m-top-2" href="" download>
                                        <i class="material-icons">download</i> <span id="downloadText">Download
                                            APK</span>
                                    </a>



                                </div>
                            </center>
                        </div>
                    </div>
                </div>
            </article>

            </div>


            <!-- Changelog Dialog -->
            <dialog id="changelog">
                <nav>
                    <h5>Notas de la versión</h5>
                    <button class="transparent circle" onclick="changelog.close()">
                        <i class="material-icons">close</i>
                    </button>

                </nav>
                <main>
                    <article>
                        <div id="changelogContent" class="content">
                            <div class="progress">
                                <div class="indeterminate"></div>
                            </div>
                        </div>
                    </article>
                </main>
                <footer>
                    <button class="button" onclick="changelog.close()">Cerrar</button>
                </footer>
            </dialog>

            <!-- Versions Dialog -->
            <dialog id="versions" class="medium">
                <nav>
                    <h5>Versiones</h5>
                    <button class="transparent circle" onclick="versions.close()">
                        <i class="material-icons">close</i>
                    </button>

                </nav>
                <main>
                    <article>
                        <div id="versionsList" class="content">
                            <div class="progress">
                                <div class="indeterminate"></div>
                            </div>
                        </div>
                    </article>
                </main>
                <footer>
                    <button class="button" onclick="versions.close()">Cerrar</button>
                </footer>
            </dialog>





            <br>
            <br>

            <article>
                <div>
                    <div>
                        <div class="col s12 m8">
                            <div class="header">
                                <h5 class="title">
                                    <i class="material-icons left">laptop_windows</i> Windows
                                </h5>
                                <p class="small">OpenTune for Windows. Download the latest stable version.</p>
                            </div>
                            <div class="content">
                                <div class="chip success small m-top-1">Stable Version</div>
                                <div id="currentVersionWindows" class="chip small m-top-2">Cargando...</div>
                            </div>
                            <script>

                                // Función para verificar nueva versión
                                async function checkNewVersionWindows() {
                                    try {
                                        const response = await fetch('https://api.github.com/repos/Arturo254/OpenTune-Desktop/releases/latest');
                                        const data = await response.json();
                                        const currentVersionElement = document.getElementById('currentVersionWindows');
                                        const downloadBtn = document.getElementById('downloadBtnWindows');

                                        // Actualizar la versión
                                        currentVersionElement.textContent = data.tag_name;

                                        // Actualizar el botón de descarga
                                        downloadBtn.href = `https://github.com/Arturo254/OpenTune-Desktop/releases/download/${data.tag_name}/OpenTune-Desktop-${data.tag_name}.exe`;

                                    } catch (error) {
                                        console.error('Error checking version:', error);
                                        document.getElementById('currentVersionWindows').textContent = 'Error al obtener la versión';
                                    }
                                }

                                // Llamada inicial al cargar la página
                                checkNewVersionWindows();

                                // Verificar cada hora
                                setInterval(checkNewVersionWindows, 60 * 60 * 1000);



                            </script>

                            <br>
                            <div class="action-bar m-top-2">
                                <button class="button small" onclick="showChangelogWindows()">
                                    <i class="material-icons">list</i> Changelog
                                </button>
                                <br>
                                <br>
                                <button class="button small" onclick="showVersionsWindows()">
                                    <i class="material-icons">history</i> Versions
                                </button>
                                <br>
                                <br>
                                <a id="downloadBtnWindows" class="button filled primary small m-top-2" href="" download>
                                    <i class="material-icons">download</i> Download EXE
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </article>

            <!-- Changelog Dialog for Windows -->
            <dialog id="changelogWindows">
                <nav>
                    <h5>Notas de la versión</h5>
                    <button class="transparent circle" onclick="closeChangelogWindows()">
                        <i class="material-icons">close</i>
                    </button>

                </nav>
                <main>
                    <article>
                        <div id="changelogContentWindows" class="content markdown">
                            <div class="progress">
                                <div class="indeterminate"></div>
                            </div>
                        </div>
                    </article>
                </main>
                <footer>
                    <button class="button" onclick="closeChangelogWindows()">Cerrar</button>
                </footer>
            </dialog>

            <!-- Versions Dialog for Windows -->
            <dialog id="versionsWindows">
                <nav>
                    <h5>Versiones </h5>
                    <button class="transparent circle" onclick="closeVersionsWindows()">
                        <i class="material-icons">close</i>
                    </button>

                </nav>
                <main>
                    <article>
                        <div id="versionsListWindows" class="content">
                            <div class="progress">
                                <div class="indeterminate"></div>
                            </div>
                        </div>
                    </article>
                </main>
                <footer>
                    <button class="button" onclick="closeVersionsWindows()">Cerrar</button>
                </footer>
            </dialog>





        </center>





    </section>
    <br>
    <br>
    <center>


        <footer class="beer-footer beer-bg-light beer-shadow beer-rounded beer-m-4">
            <div class="container mx-auto p-4 md:py-8">
                <br>

                <div class="sm:flex sm:items-center sm:justify-between mt-4">
                    <div class="flex flex-wrap justify-center gap-4">
                        <a href="https://github.com/Arturo254/" class="chip round beer-btn beer-btn-primary">
                            <i class="primary-text">developer_mode</i>
                            <span>Dev</span>
                        </a>
                        <br>
                        <br>
                        <a href="https://github.com/Arturo254/OpenTune" class="chip round beer-btn beer-btn-primary">
                            <i class="primary-text">code</i>
                            <span>Project Code</span>
                        </a>
                        <br>
                        <br>
                        <a href="https://raw.githubusercontent.com/Arturo254/OpenTune/master/LICENSE"
                            class="chip round beer-btn beer-btn-primary">
                            <i class="primary-text">description</i>
                            <span>Licensing</span>
                        </a>
                        <br>
                        <br>
                        <a href="https://wa.me/5576847925" class="chip round beer-btn beer-btn-primary">
                            <i class="primary-text">phone_in_talk</i>
                            <span>Contact</span>
                        </a>
                        <br>
                        <br>
                    </div>
                </div>

                <hr class="my-6 beer-border-gray-200 sm:mx-auto beer-border-darkgray lg:my-8" />

                <div class="text-center">
                    <span class="block text-sm text-gray-500 sm:text-center dark:text-gray-400">
                        © 2024 <a href="https://github.com/Arturo254" class="hover:underline">Arturo.inc™</a>. All
                        Rights Reserved.
                    </span>
                </div>
            </div>
        </footer>
    </center>


    <script>



        // Llamada inicial al cargar la página
        checkNewVersionWindows();

        // Verificar cada hora
        setInterval(checkNewVersionWindows, 60 * 60 * 1000);


        // Llamada inicial al cargar la página
        checkNewVersionWindows();

        // Verificar cada hora
        setInterval(checkNewVersionWindows, 60 * 60 * 1000);



        //Markdown  De OpenTune Android (cambios)

        // Configuración de marked.js
        marked.setOptions({
            breaks: true, // Permitir saltos de línea simples
            gfm: true,    // Activar el estilo GitHub Flavored Markdown (GFM)
            headerIds: false, // Desactiva IDs automáticos en encabezados
        });

        const changelog = {
            element: document.getElementById('changelog'),
            show: function () {
                this.element.showModal();
                this.loadChangelog();
            },
            close: function () {
                this.element.close();
            },
            async loadChangelog() {
                const content = document.getElementById('changelogContent');
                try {
                    const response = await fetch('https://api.github.com/repos/Arturo254/OpenTune/releases/latest');
                    const data = await response.json();

                    if (!response.ok) {
                        throw new Error('Error en la respuesta de la API');
                    }

                    // Verificar si la respuesta contiene el campo body
                    if (!data.body) {
                        throw new Error('No se encontraron notas disponibles');
                    }

                    console.log(data); // Ver los datos de la API en la consola para depuración

                    // Procesar y mostrar las notas de la versión
                    content.innerHTML = `
                        <div class="card">
                            <div class="header">
                                <div class="title">Versión ${data.tag_name}</div>
                                <div class="subtitle">${new Date(data.published_at).toLocaleDateString()}</div>
                            </div>
                            <div class="content markdown">
                                ${marked.parse(data.body || 'No hay notas disponibles')}
                            </div>
                        </div>
                    `;
                } catch (error) {
                    console.error('Error:', error); // Ver el error en consola
                    content.innerHTML = '<div class="error-text">Error cargando los cambios: ' + error.message + '</div>';
                }
            }
        };

        // Markdown  De OpenTune Android (versiones)
        const versions = {
            element: document.getElementById('versions'),
            show: function () {
                this.element.showModal();
                this.loadVersions();
            },
            close: function () {
                this.element.close();
            },
            async loadVersions() {
                const list = document.getElementById('versionsList');
                try {
                    const response = await fetch('https://api.github.com/repos/Arturo254/OpenTune/releases');
                    const releases = await response.json();
                    list.innerHTML = releases.map(release => `
            <div class="card m-bottom-2">
                <div class="header">
                    <div class="title">${release.tag_name}</div>
                    <div class="subtitle">${new Date(release.published_at).toLocaleDateString()}</div>
                </div>
                <div class="action-bar">
                    <a href="${release.assets[0]?.browser_download_url || '#'}" class="button">
                        <i class="material-icons">download</i> Descargar
                    </a>
                </div>
            </div>
        `).join('');
                } catch (error) {
                    list.innerHTML = '<div class="error-text">Error cargando las versiones</div>';
                }
            }
        };

        async function checkNewVersion() {
            try {
                const response = await fetch('https://api.github.com/repos/Arturo254/OpenTune/releases/latest');
                const data = await response.json();
                const currentVersion = document.getElementById('currentVersion');
                currentVersion.textContent = data.tag_name;
            } catch (error) {
                console.error('Error checking version:', error);
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            checkNewVersion();
        });


        // obtener version actual OpenTune Desktop:


        let currentVersionWindows = '1.9.0';
        let latestVersionWindows = '1.9.0';

        // Función para verificar nueva versión para Windows
        async function checkNewVersionWindows() {
            try {
                const response = await fetch('https://api.github.com/repos/Arturo254/OpenTune-Desktop/releases/latest');
                const data = await response.json();
                latestVersionWindows = data.tag_name;
                updateDownloadButtonWindows();
            } catch (error) {
                console.error('Error checking version for Windows:', error);
            }
        }

        // Función para actualizar el botón de descarga para Windows
        function updateDownloadButtonWindows() {
            const downloadTextWindows = document.getElementById('downloadTextWindows');
            const downloadBtnWindows = document.getElementById('downloadBtnWindows');

            if (latestVersionWindows !== currentVersionWindows) {
                downloadBtnWindows.href = `https://github.com/Arturo254/OpenTune-Desktop/releases/download/${latestVersionWindows}/OpenTune-Desktop-${latestVersionWindows}.exe`;
            } else {
                downloadBtnWindows.href = `https://github.com/Arturo254/OpenTune-Desktop/releases/download/${currentVersionWindows}/OpenTune-Desktop-${currentVersionWindows}.exe`;
            }
        }

        // Verificar al cargar la página
        checkNewVersionWindows();

        // Verificar cada hora
        setInterval(checkNewVersionWindows, 60 * 60 * 1000);

        // Funciones para mostrar y cerrar los diálogos de "Cambios" y "Versiones"
        function showChangelogWindows() {
            const changelogElement = document.getElementById('changelogWindows');
            changelogElement.showModal();
            loadChangelogWindows();
        }

        function closeChangelogWindows() {
            const changelogElement = document.getElementById('changelogWindows');
            changelogElement.close();
        }
        // Función para mostrar y cerrar los diálogos de "Cambios" y "Versiones"


        async function loadChangelogWindows() {
            const content = document.getElementById('changelogContentWindows');
            try {
                const response = await fetch('https://api.github.com/repos/Arturo254/OpenTune-Desktop/releases/latest');
                const data = await response.json();
                content.innerHTML = `
                <div class="card">
                    <div class="header">
                        <div class="title">Versión ${data.tag_name}</div>
                        <div class="subtitle">${new Date(data.published_at).toLocaleDateString()}</div>
                    </div>
                    <div class="content markdown">
                        ${marked.parse(data.body || 'No hay notas disponibles')}
                    </div>
                </div>
            `;
            } catch (error) {
                content.innerHTML = '<div class="error-text">Error cargando los cambios</div>';
            }
        }

        function showVersionsWindows() {
            const versionsElement = document.getElementById('versionsWindows');
            versionsElement.showModal();
            loadVersionsWindows();
        }

        function closeVersionsWindows() {
            const versionsElement = document.getElementById('versionsWindows');
            versionsElement.close();
        }

        async function loadVersionsWindows() {
            const list = document.getElementById('versionsListWindows');
            try {
                const response = await fetch('https://api.github.com/repos/Arturo254/OpenTune-Desktop/releases');
                const releases = await response.json();
                list.innerHTML = releases.map(release => `
                <div class="card m-bottom-2">
                    <div class="header">
                        <div class="title">${release.tag_name}</div>
                        <div class="subtitle">${new Date(release.published_at).toLocaleDateString()}</div>
                    </div>
                    <div class="action-bar">
                        <a href="${release.assets[0]?.browser_download_url || '#'}" class="button">
                            <i class="material-icons">download</i> Descargar
                        </a>
                    </div>
                </div>
            `).join('');
            } catch (error) {
                list.innerHTML = '<div class="error-text">Error cargando las versiones</div>';
            }
        }

        // carosel popup:


        // Variables
        const images = document.querySelectorAll('.carousel-image');
        const popupOverlay = document.getElementById('popupOverlay');
        const popupImage = document.getElementById('popupImage');
        const closePopup = document.getElementById('closePopup');

        // Open popup when image is clicked
        images.forEach((image) => {
            image.addEventListener('click', (e) => {
                popupImage.src = e.target.src;
                popupOverlay.style.display = 'flex';
            });
        });

        // Close popup when clicking outside of the image
        popupOverlay.addEventListener('click', (e) => {
            if (e.target === popupOverlay) {
                popupOverlay.style.display = 'none';
            }
        });

        // Close popup when close button is clicked
        closePopup.addEventListener('click', () => {
            popupOverlay.style.display = 'none';
        });

        // Swipe functionality for the popup
        let startX;
        popupOverlay.addEventListener('touchstart', (e) => {
            startX = e.touches[0].clientX;
        });

        popupOverlay.addEventListener('touchend', (e) => {
            let endX = e.changedTouches[0].clientX;
            if (startX - endX > 50) {
                // Swipe left, show next image
                nextImage();
            } else if (endX - startX > 50) {
                // Swipe right, show previous image
                prevImage();
            }
        });

        // Function to show the next image
        function nextImage() {
            let currentIndex = Array.from(images).findIndex((img) => img.src === popupImage.src);
            let nextIndex = (currentIndex + 1) % images.length;
            popupImage.src = images[nextIndex].src;
        }

        // Function to show the previous image
        function prevImage() {
            let currentIndex = Array.from(images).findIndex((img) => img.src === popupImage.src);
            let prevIndex = (currentIndex - 1 + images.length) % images.length;
            popupImage.src = images[prevIndex].src;
        }
        // descarga de versiones OpenTune Android:

        let currentVersion = '1.9.0';
        let latestVersion = '1.9.0';
        let isDownloading = false;

        // Función para verificar nueva versión
        async function checkNewVersion() {
            try {
                const response = await fetch('https://api.github.com/repos/Arturo254/OpenTune/releases/latest');
                const data = await response.json();
                latestVersion = data.tag_name;
                updateDownloadButton();
            } catch (error) {
                console.error('Error checking version:', error);
            }
        }

        // Función para actualizar el botón
        function updateDownloadButton() {
            const downloadText = document.getElementById('downloadText');
            const downloadBtn = document.getElementById('downloadBtn');

            if (latestVersion !== currentVersion) {
                downloadText.textContent = 'Nueva versión disponible!';
                downloadBtn.href = `https://github.com/Arturo254/OpenTune/releases/download/${latestVersion}/app-foss-release.apk`;
            } else {
                downloadText.textContent = 'Descargar APK';
                downloadBtn.href = `https://github.com/Arturo254/OpenTune/releases/download/${currentVersion}/app-foss-release.apk`;
            }
        }

        // Verificar al cargar la página
        checkNewVersion();

        // Verificar cada hora
        setInterval(checkNewVersion, 60 * 60 * 1000);


    </script>





    <!-- Beer CSS Styles -->
    <style>
        .carousel-container {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 10px;
        }

        .carousel-image {
            width: 100px;
            height: 100px;
            object-fit: cover;
            cursor: pointer;
            transition: transform 0.3s ease;
            border: none;
        }

        .carousel-image:hover {
            transform: scale(1.1);
        }

        .popup-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.7);
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }

        .popup-content {
            position: relative;
            padding: 20px;
            border-radius: 10px;
        }

        .popup-image {
            max-width: 90%;
            max-height: 90vh;
            object-fit: contain;
            display: block;
            margin: 0 auto;
        }

        .close-popup {
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 30px;
            cursor: pointer;
        }

        .carousel {
            border-radius: 15px;

        }

        header {
            border-radius: 12px;
            /* Redondeo del header */
            overflow: hidden;


        }

        nav {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 10px 20px;
        }

        .hero {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 20px;
        }

        .hero h1 {
            font-size: 3rem;
            margin-bottom: 1rem;
        }

        .hero p {
            font-size: 1.2rem;
            margin-bottom: 2rem;
        }

        .hero .cta {
            font-size: 1.1rem;
        }

        .cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            padding: 20px;
        }

        .carousel {
            display: flex;
            overflow-x: auto;
            gap: 20px;
            padding: 20px;
            scroll-snap-type: x mandatory;
        }

        .carousel img {
            flex: 0 0 auto;
            width: 300px;
            height: auto;
            border-radius: 8px;
            scroll-snap-align: center;
        }

        .downloads {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            padding: 20px;
        }

        .footer {
            background: #333;
            color: white;
            text-align: center;
            padding: 20px;
        }

        /* Aplicar la fuente Roboto como fuente predeterminada */
        body {
            font-family: 'Roboto', sans-serif;
            font-weight: 400;
            /* Peso predeterminado */
            line-height: 1.5;
            /* Altura de línea para mejor legibilidad */
            margin: 0;
            padding: 0;
        }

        /* Estilos para encabezados */
        h1,
        h2,
        h3,
        h4,
        h5,
        h6 {
            font-family: 'Roboto', sans-serif;
            font-weight: 700;
            /* Usar peso negrita para encabezados */
            line-height: 1.25;
            margin: 0;
        }

        /* Estilo para texto en código o consola */
        code,
        pre {
            font-family: 'Roboto Mono', monospace;
            font-weight: 400;
        }

        /* Estilo opcional para citas o textos destacados */
        blockquote {
            font-family: 'Roboto Serif', serif;
            font-style: italic;
            font-weight: 400;
            color: #555;
            /* Color gris para diferenciar */
            border-left: 4px solid #ccc;
            padding-left: 10px;
            margin: 10px 0;
        }

        /* Asegurar compatibilidad con Material Symbols */
        .material-symbols-rounded {
            font-family: 'Material Symbols Rounded';
            font-weight: 400;
            font-style: normal;
            display: inline-block;
            line-height: 1;
            text-transform: none;
            white-space: nowrap;
            word-wrap: normal;
            direction: ltr;
            -webkit-font-smoothing: antialiased;
        }
    </style>

</body>

</html>